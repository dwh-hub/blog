(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12e25652"],{"43b8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-tag"},[a("h1",[t._v(t._s(t.id?"编辑":"新增")+"标签")]),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"上级标签"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.parentTag,callback:function(e){t.parentTag=e},expression:"parentTag"}},t._l(t.parentOptions,function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})}),1)],1),a("el-form-item",{attrs:{label:"标签名"}},[a("el-input",{attrs:{type:"text"},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveTag()}}},[t._v("保存")]),a("el-button",{on:{click:function(e){return t.reset()}}},[t._v("重置")])],1)],1)],1)},r=[],i=(a("7f7f"),a("96cf"),a("3b8d")),s={props:{id:{}},data:function(){return{parentOptions:[],parentTag:"",tag:""}},created:function(){this.id&&this.fetch(),this.getTagList()},methods:{fetch:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.tag.fetchTag({id:this.id});case 2:e=t.sent,this.parentTag=e.data.parent,this.tag=e.data.name;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getTagList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.tag.fetchTagList();case 2:e=t.sent,this.parentOptions=[{name:"无",_id:void 0}].concat(e.data.list);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),saveTag:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=6;break}return t.next=3,this.$api.tag.editTag({_id:this.id,parent:this.parentTag,name:this.tag});case 3:e=t.sent,t.next=9;break;case 6:return t.next=8,this.$api.tag.addTag({parent:this.parentTag||void 0,name:this.tag});case 8:e=t.sent;case 9:this.$message({message:e.message,type:"success"}),this.$router.push({path:"/tag/list"});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reset:function(){this.tag="",parentTag=""}}},c=s,u=a("2877"),o=Object(u["a"])(c,n,r,!1,null,null,null);e["default"]=o.exports},"7f7f":function(t,e,a){var n=a("86cc").f,r=Function.prototype,i=/^\s*function ([^ (]*)/,s="name";s in r||a("9e1e")&&n(r,s,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-12e25652.47d6e142.js.map