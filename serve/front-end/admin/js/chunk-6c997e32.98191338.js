(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c997e32"],{"3bf4":function(e,t,a){"use strict";var n,i,s={data:function(){return{tableData:[],pageInfo:{pageNo:1,pageSize:10,pageSizes:[10,30,50],total:0}}},created:function(){this.loadData()},methods:{handleData:function(e){e.data.list.length&&(this.pageInfo.total=e.data.total,this.tableData=e.data.list)},resetData:function(){this.pageInfo={pageNo:1,pageSize:10,pageSizes:[10,30,50],total:0},this.tableData=[],this.loadData()}}},r=s,o=a("2877"),l=Object(o["a"])(r,n,i,!1,null,null,null);t["a"]=l.exports},b12f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-list"},[a("h1",[e._v("管理员列表")]),a("page-table",{attrs:{data:e.tableData,paging:e.pageInfo},on:{pageChange:e.loadData}},[a("el-table-column",{attrs:{label:"id",prop:"_id"}}),a("el-table-column",{attrs:{label:"管理员名字",prop:"username"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.$router.push("/user/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteTag(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},i=[],s=(a("96cf"),a("3b8d")),r=a("e3d9"),o=a("3bf4"),l={data:function(){return{tableData:[]}},components:{pageTable:r["a"]},mixins:[o["a"]],methods:{loadData:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.user.fetchUserList({params:{pageNo:this.pageInfo.pageNo,pageSize:this.pageInfo.pageSize}});case 2:t=e.sent,this.handleData(t);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),deleteTag:function(e,t){var a=this;this.$confirm('是否删除管理员 "'.concat(t.username,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$api.user.deleteUser({_id:t._id}).then(function(e){a.$message({type:"success",message:e.message}),a.loadData()})}).catch()}}},g=l,u=a("2877"),p=Object(u["a"])(g,n,i,!1,null,null,null);t["default"]=p.exports},bd14:function(e,t,a){"use strict";var n=a("ef7b"),i=a.n(n);i.a},e3d9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-table"},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.data,"max-height":e.maxHeight,height:e.height,"element-loading-text":"拼命加载中...",stripe:e.stripe}},[e.showIndex?a("el-table-column",{attrs:{type:"index",width:"50"}}):e._e(),e._t("default")],2)],1)],1),e.hasPagination?a("el-row",[a("el-col",{attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total, sizes",total:e.paging.total,"current-page":e.paging.pageNo,"page-sizes":e.paging.pageSizes,"page-size":e.paging.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)},i=[],s={name:"pageTable",props:{data:{type:Array,default:function(){return[]}},maxHeight:String,height:String,stripe:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!1},hasPagination:{type:Boolean,default:!0},paging:{type:Object,default:function(){return{pageNo:1,pageSize:10,pageSizes:[10,30,50],total:0}}}},data:function(){return{tableLoading:!1}},methods:{handleCurrentChange:function(e){this.paging.pageNo!=e&&(this.paging.pageNo=e,this.$emit("pageChange"))},handleSizeChange:function(e){this.paging.pageSize!=e&&(this.paging.pageSize=e,this.$emit("pageChange"))}}},r=s,o=(a("bd14"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,null,null);t["a"]=l.exports},ef7b:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6c997e32.98191338.js.map