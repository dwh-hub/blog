(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34021abc"],{"3bf4":function(t,e,a){"use strict";var n,i,o={data:function(){return{tableData:[],pageInfo:{pageNo:1,pageSize:10,pageSizes:[10,30,50],total:0}}},created:function(){this.loadData()},methods:{handleData:function(t){t.data.list.length&&(this.pageInfo.total=t.data.total,this.tableData=t.data.list)},resetData:function(){this.pageInfo={pageNo:1,pageSize:10,pageSizes:[10,30,50],total:0},this.tableData=[],this.loadData()}}},r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,null,null);e["a"]=s.exports},"7f7f":function(t,e,a){var n=a("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,r="name";r in i||a("9e1e")&&n(i,r,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"83ea":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-list"},[a("h1",[t._v("文章列表")]),a("page-table",{attrs:{data:t.tableData,paging:t.pageInfo},on:{pageChange:t.loadData}},[a("el-table-column",{attrs:{label:"id",prop:"_id"}}),a("el-table-column",{attrs:{label:"标题",prop:"title"}}),a("el-table-column",{attrs:{label:"标签",prop:"tags"}}),a("el-table-column",{attrs:{align:"right",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.$router.push("/article/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deleteTag(e.$index,e.row)}}},[t._v("删除")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.toEvaluation(e.$index,e.row)}}},[t._v("查看评价")])]}}])})],1)],1)},i=[],o=(a("7f7f"),a("96cf"),a("3b8d")),r=a("e3d9"),l=a("3bf4"),s={data:function(){return{tableData:[]}},components:{pageTable:r["a"]},mixins:[l["a"]],methods:{loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.article.fetchArticleList({params:{pageNo:this.pageInfo.pageNo,pageSize:this.pageInfo.pageSize}});case 2:e=t.sent,e.data.list=e.data.list.map(function(t){return t.tags=String(t.tag.map(function(t){return t.name})),t}),this.handleData(e);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),deleteTag:function(t,e){var a=this;this.$confirm('是否删除文章 "'.concat(e.title,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$api.article.deleteArticle({_id:e._id}).then(function(t){console.log(t),a.$message({type:"success",message:t.message}),a.resetData()})}).catch()},toEvaluation:function(t,e){this.$router.push("/evaluation/".concat(e._id))}}},c=s,u=a("2877"),g=Object(u["a"])(c,n,i,!1,null,null,null);e["default"]=g.exports},bd14:function(t,e,a){"use strict";var n=a("ef7b"),i=a.n(n);i.a},e3d9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-table"},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],attrs:{data:t.data,"max-height":t.maxHeight,height:t.height,"element-loading-text":"拼命加载中...",stripe:t.stripe}},[t.showIndex?a("el-table-column",{attrs:{type:"index",width:"50"}}):t._e(),t._t("default")],2)],1)],1),t.hasPagination?a("el-row",[a("el-col",{attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total, sizes",total:t.paging.total,"current-page":t.paging.pageNo,"page-sizes":t.paging.pageSizes,"page-size":t.paging.pageSize},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1):t._e()],1)},i=[],o={name:"pageTable",props:{data:{type:Array,default:function(){return[]}},maxHeight:String,height:String,stripe:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!1},hasPagination:{type:Boolean,default:!0},paging:{type:Object,default:function(){return{pageNo:1,pageSize:10,pageSizes:[10,30,50],total:0}}}},data:function(){return{tableLoading:!1}},methods:{handleCurrentChange:function(t){this.paging.pageNo!=t&&(this.paging.pageNo=t,this.$emit("pageChange"))},handleSizeChange:function(t){this.paging.pageSize!=t&&(this.paging.pageSize=t,this.$emit("pageChange"))}}},r=o,l=(a("bd14"),a("2877")),s=Object(l["a"])(r,n,i,!1,null,null,null);e["a"]=s.exports},ef7b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-34021abc.c1991ac9.js.map